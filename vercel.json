{
  "buildCommand": "npx vite build",
  "outputDirectory": "dist",
  "framework": "vite",
  "installCommand": "npm install",

  "rewrites": [
    { "source": "/api/(.*)", "destination": "https://talentkonnect-backend.onrender.com/api/$1" },
    { "source": "/((?!api|modules|payment-success).*)", "destination": "/index.html" }
  ],

  "headers": [
    {
      "source": "/assets/(.*)",
      "headers": [
        { "key": "Cache-Control", "value": "public, max-age=31536000, immutable" }
      ]
    },
    {
      "source": "/api/(.*)",
      "headers": [
        { "key": "Cache-Control", "value": "no-store" }
      ]
    }
  ],

  "env": {
    "SKIP_PREFLIGHT_CHECK": "true",
    "DISABLE_ESLINT_PLUGIN": "true"
  },

  "crons": [
    { "path": "/api/spotlight/run", "schedule": "30 4 * * *" }
  ]
}
